<!DOCTYPE html>
<html>

<head>
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js" charset="utf-8"></script>
    <title>My Simple HTML Document</title>
    <script type="module">
        const asd = await import('./src/prehooks.js');
        const deps = await import('./src/url_deps.js');
        const { makeContainer, setGlobalDeps, GlobalDeps, updatePlotData } = asd
        setGlobalDeps(deps)
        console.log(asd)
        const { emotion: { css } } = GlobalDeps
        console.log(css)
        const dv = document.getElementById('asd');
        const container = dv.insertAdjacentElement('afterend', makeContainer());

        // Do the plot
        // Sample data
        const trace = {
            x: [1, 2, 3, 4, 5],
            y: [10, 15, 13, 17, 20],
            mode: 'markers',
            type: 'scatter',
            marker: { size: 12 }
        };

        const layout = {
            title: 'Sample Scatter Plot',
            xaxis: {
                title: 'X Axis'
            },
            yaxis: {
                title: 'Y Axis'
            }
        };

        const data = [trace];
        const plot_obj = { data, layout }

        // Render the plot
        updatePlotData(container, plot_obj)
        window.container = container
        window.option_spans = container.CLIPBOARD_HEADER.option_spans
        // container.classList.toggle('popped-out', true)
        container.CLIPBOARD_HEADER.classList.toggle('hidden')
        window.width = option_spans['width']
        // container.togglePopout()
    </script>
</head>

<body>
    <h1>Hello, World!</h1>
    <p>This is a simple HTML document.</p>
    <div id="asd" style="margin: 10px 100px;">ASD</div>
</body>

</html>